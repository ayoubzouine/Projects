<div class="row">
  <div class="col-12">
    <div class="card-box">
      <h4 class="m-t-0 header-title">liste des panne</h4>
      <p class="text-muted m-b-30 font-13">
        la liste de toutes les resources demandees.
      </p>

      <div class="mb-3">
        <div class="row">
          <div class="col-12 text-sm-center form-inline">
            <div class="form-group">
              <input
                id="demo-foo-search"
                type="text"
                placeholder="Search"
                class="form-control"
                autocomplete="on"
              />
            </div>
          </div>
        </div>
      </div>
      <table
        id="demo-foo-filtering"
        class="table table-striped table-bordered toggle-circle m-b-0"
        data-page-size="7"
      >
        <thead>
          <tr>
            <th data-toggle="true">Enseignant</th>
            <th>Type resource</th>
            <th data-hide="phone">Marque</th>
            <th data-hide="phone, tablet">Apparu le</th>
            <th data-hide="phone, tablet">Etat</th>
            <th data-hide="phone, tablet" class="text-center">Constat</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let failure of failures" class="footable-even" style="">
            <td class="footable-visible footable-first-column">
              <span class="footable-toggle"></span
              >{{ failure.teacherName }}
            </td>
            <td  class="footable-visible">
              {{failure.resourceType}}
            </td>
            <td class="footable-visible footable-last-column">
              {{ failure.resourceBrand }}
            </td>
            <td style="">{{ failure.date|date:'yyyy-MM-dd' }}</td>
            <td style="">
              <span
                *ngIf="failure.processed == false"
                class="badge label-table badge-danger">Non Traitée</span>
              <span
                *ngIf="failure.processed == true"
                class="badge label-table badge-success"
                >Traitée</span>
            </td>
            <td class="text-center">
              <button [disabled]="failure.processed"  (click)="markFailureAsSeen(failure)" title="Marquer comme traitée" class="btn btn-sm border px-2 mx-1"><i class="mdi mdi-checkbox-marked-circle"></i></button>
              <button routerLink="/technician/failures/report/{{failure.id}}" title="rédiger un constat" class="btn btn-sm border px-2 mx-1 bg-warning"><i class="mdi mdi-message-text text-white"></i></button>
            </td>
          </tr>
        </tbody>
        <tfoot>
          <tr class="active">
            <td colspan="7" class="footable-visible">
              <div class="text-right">
                <ul
                  class="pagination pagination-split justify-content-end footable-pagination m-t-10"
                >
                  <li class="footable-page-arrow disabled">
                    <a data-page="first" href="#first">«</a>
                  </li>
                  <li class="footable-page-arrow disabled">
                    <a data-page="prev" href="#prev">‹</a>
                  </li>
                  <li class="footable-page active">
                    <a data-page="0" href="#">1</a>
                  </li>
                  <li class="footable-page"><a data-page="1" href="#">2</a></li>
                  <li class="footable-page"><a data-page="2" href="#">3</a></li>
                  <li class="footable-page-arrow">
                    <a data-page="next" href="#next">›</a>
                  </li>
                  <li class="footable-page-arrow">
                    <a data-page="last" href="#last">»</a>
                  </li>
                </ul>
              </div>
            </td>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>
</div>
